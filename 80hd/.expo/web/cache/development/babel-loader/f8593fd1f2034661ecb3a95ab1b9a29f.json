{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/naomiperez/Documents/GitHub/80/80hd/src/components/LoggerCard/ExpandableCard.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport dropdown from \"../../assets/images/dropdown.png\";\nimport styles from \"./styles\";\n\nvar ExpandableCard = function (_React$Component) {\n  _inherits(ExpandableCard, _React$Component);\n\n  var _super = _createSuper(ExpandableCard);\n\n  function ExpandableCard(props) {\n    var _this;\n\n    _classCallCheck(this, ExpandableCard);\n\n    _this = _super.call(this, props);\n    _this.anime = {\n      height: new Animated.Value(60),\n      expanded: false,\n      contentHeight: 0\n    };\n    _this.initContentHeight = _this.initContentHeight.bind(_assertThisInitialized(_this));\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_this));\n    _this.anime.expanded = props.expanded;\n    _this.state = {\n      expanded: props.expanded\n    };\n    _this.anime.height = new Animated.Value(props.expandHeight);\n    return _this;\n  }\n\n  _createClass(ExpandableCard, [{\n    key: \"getMaxValue\",\n    value: function getMaxValue() {\n      return this.anime.contentHeight;\n    }\n  }, {\n    key: \"getMinValue\",\n    value: function getMinValue() {\n      return 0;\n    }\n  }, {\n    key: \"initContentHeight\",\n    value: function initContentHeight(evt) {\n      if (this.anime.contentHeight > 0) return;\n      this.anime.contentHeight = evt.nativeEvent.layout.height;\n      this.anime.height.setValue(this.anime.expanded ? this.getMaxValue() : this.getMinValue());\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var _this2 = this;\n\n      Animated.timing(this.anime.height, {\n        toValue: this.anime.expanded ? this.getMinValue() : this.getMaxValue(),\n        duration: 90,\n        useNativeDriver: false\n      }).start();\n      this.anime.expanded = !this.anime.expanded;\n\n      if (this.state.expanded === false) {\n        setTimeout(function () {\n          _this2.setState(function (prevState) {\n            return {\n              expanded: !prevState.expanded\n            };\n          });\n        }, 90);\n      } else {\n        this.setState(function (prevState) {\n          return {\n            expanded: !prevState.expanded\n          };\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var expanded = this.state.expanded;\n      var _this$props = this.props,\n          children = _this$props.children,\n          cardTitle = _this$props.cardTitle;\n      console.log(expanded);\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 4\n        }\n      }, React.createElement(View, {\n        style: styles.inlineStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 5\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }\n      }, cardTitle), React.createElement(TouchableHighlight, {\n        underlayColor: \"transparent\",\n        onPress: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }\n      }, React.createElement(Image, {\n        style: styles.img,\n        source: dropdown,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }\n      }))), React.createElement(Animated.View, {\n        style: [{\n          height: this.anime.height\n        }],\n        onLayout: this.initContentHeight,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 5\n        }\n      }, expanded === true ? children : React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 38\n        }\n      })));\n    }\n  }]);\n\n  return ExpandableCard;\n}(React.Component);\n\nexport default ExpandableCard;","map":{"version":3,"sources":["/Users/naomiperez/Documents/GitHub/80/80hd/src/components/LoggerCard/ExpandableCard.js"],"names":["React","dropdown","styles","ExpandableCard","props","anime","height","Animated","Value","expanded","contentHeight","initContentHeight","bind","toggle","state","expandHeight","evt","nativeEvent","layout","setValue","getMaxValue","getMinValue","timing","toValue","duration","useNativeDriver","start","setTimeout","setState","prevState","children","cardTitle","console","log","container","inlineStyle","text","img","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;AAEA,OAAOC,QAAP;AACA,OAAOC,MAAP;;IAEMC,c;;;;;AAOL,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,8BAAMA,KAAN;AADkB,UANnBC,KAMmB,GANX;AACPC,MAAAA,MAAM,EAAE,IAAIC,QAAQ,CAACC,KAAb,CAAmB,EAAnB,CADD;AAEPC,MAAAA,QAAQ,EAAE,KAFH;AAGPC,MAAAA,aAAa,EAAE;AAHR,KAMW;AAGlB,UAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,+BAAd;AAEA,UAAKP,KAAL,CAAWI,QAAX,GAAsBL,KAAK,CAACK,QAA5B;AACA,UAAKK,KAAL,GAAa;AACZL,MAAAA,QAAQ,EAAEL,KAAK,CAACK;AADJ,KAAb;AAIA,UAAKJ,KAAL,CAAWC,MAAX,GAAoB,IAAIC,QAAQ,CAACC,KAAb,CAAmBJ,KAAK,CAACW,YAAzB,CAApB;AAXkB;AAYlB;;;;WAED,uBAAc;AACb,aAAO,KAAKV,KAAL,CAAWK,aAAlB;AACA;;;WAED,uBAAc;AACb,aAAO,CAAP;AACA;;;WAED,2BAAkBM,GAAlB,EAAuB;AACtB,UAAI,KAAKX,KAAL,CAAWK,aAAX,GAA2B,CAA/B,EAAkC;AAClC,WAAKL,KAAL,CAAWK,aAAX,GAA2BM,GAAG,CAACC,WAAJ,CAAgBC,MAAhB,CAAuBZ,MAAlD;AACA,WAAKD,KAAL,CAAWC,MAAX,CAAkBa,QAAlB,CACC,KAAKd,KAAL,CAAWI,QAAX,GAAsB,KAAKW,WAAL,EAAtB,GAA2C,KAAKC,WAAL,EAD5C;AAGA;;;WAGD,kBAAS;AAAA;;AACRd,MAAAA,QAAQ,CAACe,MAAT,CAAgB,KAAKjB,KAAL,CAAWC,MAA3B,EAAmC;AAClCiB,QAAAA,OAAO,EAAE,KAAKlB,KAAL,CAAWI,QAAX,GAAsB,KAAKY,WAAL,EAAtB,GAA2C,KAAKD,WAAL,EADlB;AAElCI,QAAAA,QAAQ,EAAE,EAFwB;AAGlCC,QAAAA,eAAe,EAAE;AAHiB,OAAnC,EAIGC,KAJH;AAKA,WAAKrB,KAAL,CAAWI,QAAX,GAAsB,CAAC,KAAKJ,KAAL,CAAWI,QAAlC;;AAGA,UAAI,KAAKK,KAAL,CAAWL,QAAX,KAAwB,KAA5B,EAAmC;AAClCkB,QAAAA,UAAU,CAAC,YAAM;AAChB,UAAA,MAAI,CAACC,QAAL,CAAc,UAACC,SAAD;AAAA,mBAAgB;AAC7BpB,cAAAA,QAAQ,EAAE,CAACoB,SAAS,CAACpB;AADQ,aAAhB;AAAA,WAAd;AAGA,SAJS,EAIP,EAJO,CAAV;AAKA,OAND,MAMO;AACN,aAAKmB,QAAL,CAAc,UAACC,SAAD;AAAA,iBAAgB;AAC7BpB,YAAAA,QAAQ,EAAE,CAACoB,SAAS,CAACpB;AADQ,WAAhB;AAAA,SAAd;AAGA;AACD;;;WAMD,kBAAS;AACR,UAAQA,QAAR,GAAqB,KAAKK,KAA1B,CAAQL,QAAR;AACA,wBAAgC,KAAKL,KAArC;AAAA,UAAQ0B,QAAR,eAAQA,QAAR;AAAA,UAAkBC,SAAlB,eAAkBA,SAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYxB,QAAZ;AACA,aACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEP,MAAM,CAACgC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhC,MAAM,CAACiC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEjC,MAAM,CAACkC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BL,SAA3B,CADD,EAEC,oBAAC,kBAAD;AAAoB,QAAA,aAAa,EAAC,aAAlC;AAAgD,QAAA,OAAO,EAAE,KAAKlB,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAEX,MAAM,CAACmC,GAArB;AAA0B,QAAA,MAAM,EAAEpC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAFD,CADD,EAOC,oBAAC,QAAD,CAAU,IAAV;AACC,QAAA,KAAK,EAAE,CAAC;AAAEK,UAAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC;AAArB,SAAD,CADR;AAEC,QAAA,QAAQ,EAAE,KAAKK,iBAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGEF,QAAQ,KAAK,IAAb,GAAoBqB,QAApB,GAA+B,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHjC,CAPD,CADD;AAeA;;;;EAnF2B9B,KAAK,CAACsC,S;;AAsFnC,eAAenC,cAAf","sourcesContent":["import React from 'react'\nimport { Text, View, Image, TouchableHighlight, Animated } from 'react-native'\nimport dropdown from '../../assets/images/dropdown.png'\nimport styles from './styles'\n\nclass ExpandableCard extends React.Component {\n\tanime = {\n\t\theight: new Animated.Value(60),\n\t\texpanded: false,\n\t\tcontentHeight: 0,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.initContentHeight = this.initContentHeight.bind(this)\n\t\tthis.toggle = this.toggle.bind(this)\n\n\t\tthis.anime.expanded = props.expanded\n\t\tthis.state = {\n\t\t\texpanded: props.expanded,\n\t\t}\n\n\t\tthis.anime.height = new Animated.Value(props.expandHeight)\n\t}\n\n\tgetMaxValue() {\n\t\treturn this.anime.contentHeight\n\t}\n\n\tgetMinValue() {\n\t\treturn 0\n\t}\n\n\tinitContentHeight(evt) {\n\t\tif (this.anime.contentHeight > 0) return\n\t\tthis.anime.contentHeight = evt.nativeEvent.layout.height\n\t\tthis.anime.height.setValue(\n\t\t\tthis.anime.expanded ? this.getMaxValue() : this.getMinValue()\n\t\t)\n\t}\n\n\t/*  */\n\ttoggle() {\n\t\tAnimated.timing(this.anime.height, {\n\t\t\ttoValue: this.anime.expanded ? this.getMinValue() : this.getMaxValue(),\n\t\t\tduration: 90,\n\t\t\tuseNativeDriver: false,\n\t\t}).start()\n\t\tthis.anime.expanded = !this.anime.expanded\n\n\t\t// Wait for container View to expand before rendering the Selection Options\n\t\tif (this.state.expanded === false) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState((prevState) => ({\n\t\t\t\t\texpanded: !prevState.expanded,\n\t\t\t\t}))\n\t\t\t}, 90)\n\t\t} else {\n\t\t\tthis.setState((prevState) => ({\n\t\t\t\texpanded: !prevState.expanded,\n\t\t\t}))\n\t\t}\n\t}\n\n\t// The outermost View is the Card, the second View is the flex container,\n\t// then the Text is the title of the card, the TouchableHighlight is the 'expand' button,\n\t// and the Animated.View is the expanded View that has a dynamic height and displays the\n\t// Logger Selection options\n\trender() {\n\t\tconst { expanded } = this.state\n\t\tconst { children, cardTitle } = this.props\n\t\tconsole.log(expanded)\n\t\treturn (\n\t\t\t<View style={styles.container}>\n\t\t\t\t<View style={styles.inlineStyle}>\n\t\t\t\t\t<Text style={styles.text}>{cardTitle}</Text>\n\t\t\t\t\t<TouchableHighlight underlayColor='transparent' onPress={this.toggle}>\n\t\t\t\t\t\t<Image style={styles.img} source={dropdown} />\n\t\t\t\t\t</TouchableHighlight>\n\t\t\t\t</View>\n\t\t\t\t<Animated.View\n\t\t\t\t\tstyle={[{ height: this.anime.height }]}\n\t\t\t\t\tonLayout={this.initContentHeight}>\n\t\t\t\t\t{expanded === true ? children : <View></View>}\n\t\t\t\t</Animated.View>\n\t\t\t</View>\n\t\t)\n\t}\n}\n\nexport default ExpandableCard\n"]},"metadata":{},"sourceType":"module"}